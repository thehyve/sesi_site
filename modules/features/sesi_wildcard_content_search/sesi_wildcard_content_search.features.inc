<?php
/**
 * @file
 * sesi_wildcard_content_search.features.inc
 */

/**
 * Implements hook_ctools_plugin_api().
 */
function sesi_wildcard_content_search_ctools_plugin_api($module = NULL, $api = NULL) {
  if ($module == "facetapi" && $api == "facetapi_defaults") {
    return array("version" => "1");
  }
}

/**
 * Implements hook_default_search_api_index_alter().
 */
function sesi_wildcard_content_search_default_search_api_index_alter(&$data) {
  if (isset($data['variable_index'])) {
    $data['variable_index']->options['processors']['search_api_case_ignore']['weight'] = 0; /* WAS: 0 */
    $data['variable_index']->options['processors']['search_api_html_filter']['weight'] = 10; /* WAS: 10 */
    $data['variable_index']->options['processors']['search_api_tokenizer']['settings']['spaces'] = '[^\\p{L}\\p{N}?*^_\']'; /* WAS: '[^\\p{L}\\p{N}^\']' */
    $data['variable_index']->options['processors']['search_api_tokenizer']['weight'] = 20; /* WAS: 20 */
    $data['variable_index']->options['processors']['sesi_wildcard'] = array(
      'status' => 1,
      'weight' => 50,
      'settings' => array(),
    ); /* WAS: '' */
  }
}

/**
 * Implements hook_views_default_views_alter().
 */
function sesi_wildcard_content_search_views_default_views_alter(&$data) {
  if (isset($data['variable_search'])) {
    $data['variable_search']->display['default']->display_options['filters']['search_api_views_fulltext']['expose']['description'] = 'use * and ? wildcards to search for partial words'; /* WAS: '' */
  }
}
